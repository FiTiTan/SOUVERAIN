feat(portfolio): Syst√®me complet de gestion des assets - Phase B

Impl√©mentation du syst√®me d'import et gestion des assets (images, PDFs, vid√©os)
pour le module Portfolio avec g√©n√©ration automatique de miniatures.

FONCTIONNALIT√âS AJOUT√âES:

‚Ä¢ Import de fichiers
  - Bouton "Importer des fichiers" dans la vue d√©tail portfolio
  - S√©lection multiple native Electron
  - Support formats: JPG, JPEG, PNG, GIF, WEBP, PDF, MP4, MOV, WEBM
  - Validation format et taille (max 100 Mo/fichier)
  - Feedback toast (succ√®s/erreur/warning)

‚Ä¢ Stockage local structur√©
  - Dossier assets/ pour fichiers originaux
  - Dossier thumbnails/ pour miniatures
  - Nommage unique: {baseName}_{timestamp}{extension}
  - Structure: userData/portfolios/{id}/assets/

‚Ä¢ G√©n√©ration de miniatures
  - Automatique pour images (JPG, PNG, GIF, WEBP)
  - Electron nativeImage API
  - Max 300x300px, ratio pr√©serv√©
  - Format JPEG 80% qualit√©
  - Handler IPC: portfolio-v2-generate-thumbnail

‚Ä¢ Base de donn√©es
  - Table portfolio_assets avec FK vers portfolios_v2
  - Champs: id, portfolio_id, source_type, source_path, local_path,
    format, original_filename, file_size, metadata_json, thumbnail_path
  - Index sur portfolio_id et format
  - Mapping snake_case ‚Üí camelCase dans getByPortfolioId

‚Ä¢ Affichage des assets
  - Grille responsive (min 250px/carte)
  - AssetCard avec miniature/ic√¥ne selon type
  - Badge format (JPG, PDF, MP4, etc.)
  - Taille format√©e (Ko/Mo)
  - Bouton supprimer avec confirmation
  - Effet hover (bordure accent + ombre)

‚Ä¢ Service assetService.ts
  - importAsset() - Import complet avec miniature
  - deleteAsset() - Suppression asset (TODO: fichier physique)
  - getAssetsByPortfolioId() - R√©cup√©ration
  - getAssetIcon() - Ic√¥ne selon format (üñºÔ∏è üìÑ üé•)
  - getAssetCategory() - Cat√©gorie (image/document/video/other)
  - formatFileSize() - Formatage taille

COMPOSANTS UI CR√â√âS:

‚Ä¢ AssetImporter.tsx
  - Bouton avec ic√¥ne üìÅ
  - Input file cach√© (multiple, accept formats)
  - Validation et import async
  - Notifications toast

‚Ä¢ AssetGrid.tsx
  - Grille responsive (auto-fill 250px)
  - √âtat vide avec message
  - Map sur AssetCard[]

‚Ä¢ AssetCard.tsx
  - Thumbnail container (200px height)
  - Image src: thumbnailPath || localPath
  - Normalisation path Windows (file:///)
  - Content: filename (ellipsis) + meta (badge + size)
  - Delete button (hover, confirm)

INT√âGRATION:

‚Ä¢ PortfolioModule.tsx
  - Vue d√©tail portfolio avec section "Assets du Portfolio"
  - Header: titre + AssetImporter
  - Body: AssetGrid avec loading state
  - Auto-reload apr√®s import/suppression

HANDLERS IPC (main.cjs):

‚Ä¢ portfolio-v2-save-file
  - Copie fichier dans assets/
  - Retourne path absolu + relatif

‚Ä¢ portfolio-v2-generate-thumbnail
  - G√©n√®re miniature 300x300px
  - Sauvegarde dans thumbnails/
  - Retourne thumbnailPath + dimensions

‚Ä¢ portfolio-asset-create (existant)
‚Ä¢ portfolio-asset-get-by-portfolio (modifi√©: mapping camelCase)
‚Ä¢ portfolio-asset-delete (existant)

API EXPOS√âE (preload.cjs):

window.electron.portfolioV2.{
  saveFile(portfolioId, fileName, buffer)
  generateThumbnail(filePath, maxWidth, maxHeight)
  assets.{
    create(data)
    getByPortfolio(portfolioId)
    delete(id)
  }
}

DOCUMENTATION:

‚Ä¢ PORTFOLIO_ASSETS_IMPLEMENTATION.md
  - Vue d'ensemble technique
  - Guide de test manuel
  - Am√©liorations futures

‚Ä¢ PORTFOLIO_ASSETS_ARCHITECTURE.md
  - Diagrammes de flux (import, suppression)
  - Hi√©rarchie composants
  - Types TypeScript
  - Formats et contraintes

‚Ä¢ PHASE_B_COMPLETION_SUMMARY.md
  - R√©sum√© ex√©cutif
  - M√©triques
  - Checklist de tests

FICHIERS:

Cr√©√©s:
- src/services/assetService.ts
- src/components/portfolio/AssetImporter.tsx
- src/components/portfolio/AssetGrid.tsx
- src/components/portfolio/AssetCard.tsx
- PORTFOLIO_ASSETS_IMPLEMENTATION.md
- PORTFOLIO_ASSETS_ARCHITECTURE.md
- PHASE_B_COMPLETION_SUMMARY.md

Modifi√©s:
- src/components/portfolio/PortfolioModule.tsx (int√©gration assets)
- main.cjs (handlers save-file + generate-thumbnail)
- preload.cjs (API saveFile + generateThumbnail)
- database.cjs (mapping camelCase dans getByPortfolioId)

TESTS:

‚úÖ TypeScript: npx tsc --noEmit (0 erreurs)
‚úÖ Import image ‚Üí miniature g√©n√©r√©e
‚úÖ Import PDF ‚Üí ic√¥ne üìÑ
‚úÖ Import vid√©o ‚Üí ic√¥ne üé•
‚úÖ Import multiple ‚Üí tous import√©s
‚úÖ Suppression ‚Üí asset retir√©
‚úÖ Persistance ‚Üí reload app OK

TODO (hors scope Phase B):

- Supprimer fichier physique lors de deleteAsset()
- G√©n√©ration miniatures pour vid√©os (premi√®re frame)
- Preview plein √©cran au clic
- Drag & drop pour import

Co-Authored-By: Claude Sonnet 4.5 <noreply@anthropic.com>
