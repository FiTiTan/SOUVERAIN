feat(portfolio): ProjectEditor pour gestion d√©taill√©e des projets - Phase C

Impl√©mentation du composant ProjectEditor permettant de visualiser et g√©rer
les assets assign√©s √† un projet. Modal plein √©cran avec affichage en grille,
d√©sassignation d'assets, et s√©lection de couverture (placeholder).

FONCTIONNALIT√âS AJOUT√âES:

‚Ä¢ Vue D√©taill√©e du Projet
  - Modal plein √©cran avec overlay semi-transparent
  - Header: titre projet, compteur assets, badge featured
  - Description du projet si pr√©sente
  - Liste des tags du projet
  - Bouton fermeture (‚úï) avec hover effect

‚Ä¢ Affichage Assets Assign√©s
  - Grille responsive (auto-fill, min 200px par carte)
  - Carte asset avec miniature (image) ou ic√¥ne (PDF/vid√©o)
  - Badge "Couverture" si asset de couverture
  - Nom fichier avec ellipsis si trop long
  - √âtat vide personnalis√© si 0 assets (ic√¥ne + message)
  - Chargement automatique au mount du composant

‚Ä¢ D√©sassignation d'Assets
  - Bouton "üóëÔ∏è Retirer" sur chaque carte asset
  - Dialogue confirmation avant d√©sassignation
  - Appel IPC via removeElement(projectId, assetId)
  - Toast "Asset retir√© du projet" apr√®s succ√®s
  - Rechargement automatique liste apr√®s retrait
  - Callback onProjectUpdate() pour maj compteur ProjectCard

‚Ä¢ S√©lection Asset de Couverture
  - Bouton "‚≠ê Couverture" visible si pas d√©j√† couverture
  - Placeholder: Toast info "Fonctionnalit√© √† venir"
  - TODO: Handler IPC update pour impl√©menter compl√®tement

‚Ä¢ Int√©gration PortfolioModule
  - √âtat viewingProject pour tracker projet en visualisation
  - Handler handleViewProject() pour ouvrir √©diteur
  - Handler handleCloseProjectEditor() pour fermer
  - Callback onProjectUpdate connect√© √† loadProjects()
  - Ouverture au clic sur ProjectCard (prop onProjectClick)
  - Rendu conditionnel avec {viewingProject && <ProjectEditor />}

COMPOSANT CR√â√â:

‚Ä¢ ProjectEditor.tsx (500 lignes)
  - Interface ProjectEditorProps avec project, onClose, onProjectUpdate
  - Interface AssignedAsset extends Asset (displayOrder, isCover)
  - √âtat: assignedAssets, isLoading
  - useEffect pour chargement auto au mount
  - loadAssignedAssets(): Appel IPC + mapping snake_case ‚Üí camelCase
  - handleUnassign(): D√©sassignation avec confirmation
  - handleSetCover(): Placeholder pour future impl√©mentation
  - getAssetIcon(): Helper pour ic√¥nes par format
  - Styles inline complets avec theme tokens
  - Grille responsive des assets
  - Cards avec hover effects (bordure accent)

COMPOSANT MODIFI√â:

‚Ä¢ PortfolioModule.tsx (~15 lignes modifi√©es)
  - Import ProjectEditor
  - √âtat viewingProject: Project | null
  - handleViewProject(project): setViewingProject(project)
  - handleCloseProjectEditor(): setViewingProject(null)
  - Prop onProjectClick={handleViewProject} sur ProjectList
  - Rendu conditionnel ProjectEditor apr√®s modals
  - Callback onProjectUpdate={() => loadProjects(selectedPortfolioId)}

API UTILIS√âE:

window.electron.portfolioV2.projects.{
  getElements(projectId)              - R√©cup√©rer assets d'un projet
  removeElement(projectId, elementId) - D√©sassigner un asset
  // √Ä cr√©er:
  updateElement(projectId, elementId, updates) - Maj isCover
}

BACKEND:

Handlers IPC existants utilis√©s:
- portfolio-project-element-get-by-project
- portfolio-project-element-delete

Handler √† cr√©er (futur):
- portfolio-project-element-update (pour isCover)

BASE DE DONN√âES:

Table: portfolio_project_elements
Colonnes utilis√©es: id, project_id, element_id, display_order, is_cover

Query getByProjectId:
- JOIN avec portfolio_elements
- Retourne donn√©es asset + liaison
- ORDER BY display_order ASC

DOCUMENTATION:

‚Ä¢ PHASE_C_PROJECT_EDITOR.md
  - Vue d'ensemble ProjectEditor
  - Fonctionnalit√©s impl√©ment√©es
  - Structure donn√©es AssignedAsset
  - API et handlers IPC
  - Flow technique (ouverture, chargement, d√©sassignation)
  - Tests de validation requis
  - Fonctionnalit√©s futures (couverture, r√©organisation)

‚Ä¢ PHASE_C_IMPLEMENTATION.md (mis √† jour)
  - Section 6 ajout√©e: ProjectEditor
  - Status: Phase C Base + Assignation + ProjectEditor - TERMIN√âE
  - Priorit√©s mises √† jour (couverture, drag & drop r√©organisation)

‚Ä¢ SOUVERAIN-BRIEF.md (mis √† jour)
  - Phase C: ProjectEditor ‚úÖ marqu√© termin√©
  - D√©tails modal, grille, d√©sassignation, placeholder couverture
  - "Ce qui reste": Asset couverture fonctionnel, r√©organisation
  - Derni√®re impl√©mentation document√©e avec date/heure

FICHIERS:

Cr√©√©s:
- src/components/portfolio/ProjectEditor.tsx
- PHASE_C_PROJECT_EDITOR.md
- COMMIT_MESSAGE_PROJECT_EDITOR.txt

Modifi√©s:
- src/components/portfolio/PortfolioModule.tsx
- PHASE_C_IMPLEMENTATION.md
- SOUVERAIN-BRIEF.md

TESTS:

‚úÖ TypeScript: npx tsc --noEmit (0 erreurs)
‚è≥ Tests manuels: Ouverture ProjectEditor
‚è≥ Tests manuels: Affichage assets
‚è≥ Tests manuels: D√©sassignation
‚è≥ Tests manuels: Persistance

FLOW UTILISATEUR:

1. Ouvrir portfolio
2. Onglet Projets
3. Clic sur ProjectCard
4. ProjectEditor s'ouvre en modal
5. Affichage:
   - Titre, description, tags
   - Grille des assets assign√©s
6. Actions:
   - Clic "Retirer" ‚Üí Confirmation ‚Üí D√©sassignation
   - Clic "‚≠ê Couverture" ‚Üí Toast info (placeholder)
   - Clic overlay ou ‚úï ‚Üí Fermeture
7. Compteur ProjectCard mis √† jour apr√®s retrait

D√âCISIONS TECHNIQUES:

‚Ä¢ Modal vs Page S√©par√©e
  - Choix: Modal overlay
  - Raison: Pas de perte contexte, UX fluide, coh√©rent avec ProjectCreateModal

‚Ä¢ Chargement Automatique
  - Choix: useEffect au mount + √† chaque project.id change
  - Raison: Donn√©es toujours fra√Æches, UX moderne, performance OK

‚Ä¢ D√©sassignation Imm√©diate
  - Choix: Appel IPC + rechargement imm√©diat
  - Raison: Feedback instantan√©, coh√©rent, √©vite erreurs

‚Ä¢ Couverture Placeholder
  - Choix: Toast info + TODO code
  - Raison: Montre fonctionnalit√© pr√©vue, transparent, facile √† activer

PHASE C - √âTAT:

‚úÖ Termin√©:
  - Gestion CRUD projets
  - Syst√®me onglets Assets/Projets
  - Assignation assets (drag & drop)
  - ProjectEditor (vue d√©taill√©e + d√©sassignation)

‚è≥ √Ä venir:
  - Asset de couverture fonctionnel (handler IPC update)
  - R√©organisation assets par drag & drop
  - Preview asset en grand
  - Classification IA avec Ollama

M√âTRIQUES:

- Fichiers cr√©√©s: 1 (ProjectEditor.tsx)
- Fichiers modifi√©s: 1 (PortfolioModule.tsx)
- Lignes ajout√©es: ~500
- Lignes modifi√©es: ~15
- Handlers IPC utilis√©s: 2
- Erreurs TypeScript: 0
- Temps impl√©mentation: ~30 min

Co-Authored-By: Claude Sonnet 4.5 <noreply@anthropic.com>
